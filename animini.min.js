(function(){function g(A,B){for(var z=0,D=("animini."+A).split("."),C=D.length,y=window;z<C;++z){if(y[D[z]]==undefined){y=y[D[z]]=z==C-1?B:{}}else{y=y[D[z]]}}}function k(y,B,A){if(!B){return y}if(A==undefined||A==""){A="0"}while(A.length<B){A+=A}var z=A+y;return z.substr(z.length-B)}var p=4/3,x=1/3,e=x*2*Math.PI*Math.asin(1/p);var n={linear:function(y){return y},quad:function(y){return Math.pow(y,2)},cubic:function(y){return Math.pow(y,3)},quart:function(y){return Math.pow(y,4)},sine:function(y){return 1-Math.cos(y*Math.PI/2)},expo:function(y){return y?Math.pow(2,10*(y-1)):0},circ:function(y){return 1-Math.sqrt(1-Math.pow(y,2))},elastic:function(y){if(y==0||y==1){return y}return -(p*Math.pow(2,10*(y-1))*Math.sin((y-e)*2*Math.PI/x))},expect:function(y){return Math.pow(y,2)*(4*y-3)},bounce:function(A){var y=1-A,z=function(C,B){return 1-121/16*Math.pow(y-C/11,2)-B};return y<4/11?z(0,0):y<8/11?z(6,3/4):y<10/11?z(9,15/16):z(10.5,63/64)},};function q(y){return function(z){return 1-y(1-z)}}function u(y){return function(z){return z<0.5?y(z*2)/2:(1-y(2-z*2)/2)}}function j(){for(var y in n){var z=n[y];n[y]={"in":z,out:q(z),inout:u(z)}}}j();g("easing",n);function v(){}g("Animation",v);v.prototype={millisec:1000,easingFunc:n.sine["inout"],start:function c(){this.frame=0;this.pos=1/this.millisec;this.startTime=new Date().getTime();this.endTime=this.startTime+this.millisec;this.setTimer(this.step,1);this.doStep()},stop:function o(){if(this.timeout!=undefined){clearTimeout(this.timeout)}delete this.timeout;this.pos=1;this.doStep()},step:function d(){var y=new Date().getTime(),z=this.endTime-y;if(z>0){this.fpms=++this.frame/(y-this.startTime);this.pos+=(1-this.pos)/this.fpms/z;if(this.pos>=1){this.pos=1}}else{this.pos=1}this.doStep();if(this.pos<1){this.setTimer(this.step,10)}else{delete this.timeout;if(this.onend){this.onend()}}},doStep:function b(){},setTimer:function t(z,y){this.timeout=window.setTimeout(this.cb(z),y)},cb:function l(z){var y=this;return function(){return z.apply(y,arguments)}}};function w(y,z){this.animations=[];if(y){this.millisec=y}this.onend=z}g("Parallel",w);w.prototype=new v();w.prototype.add=function(y){this.animations.push(y)};w.prototype.start=function(){for(var z=0,A=this.animations.length;z<A;++z){var y=this.animations[z];y.setTimer=function(){};y.millisec=this.millisec;y.start()}v.prototype.start.call(this)};w.prototype.stop=function(){for(var y=0,z=this.animations.length;y<z;++y){this.animations[y].stop()}};w.prototype.doStep=function(){for(var y=0,z=this.animations.length;y<z;++y){this.animations[y].step()}};function a(y){this.animations=[];this.onend=y;this.current=-1}g("Serial",a);a.prototype=new v();a.prototype.add=function(y){this.animations.push(y)};a.prototype.start=function(){for(var y=0,z=this.animations.length;y<z;++y){this.animations[y].onend=this.cb(this.next)}this.current=-1;this.next()};a.prototype.stop=function(){if(this.current!=-1){this.animations[this.current].stop()}this.current=-1};a.prototype.doStep=function(){if(this.current!=-1){this.animations[this.current].doStep()}};a.prototype.next=function(){if(++this.current<this.animations.length){this.animations[this.current].start()}else{this.current=-1;if(this.onend){this.onend()}}};function i(y,z){this.millisec=y;this.onend=z}g("Pause",i);i.prototype=new v();function h(C,A,z,y,B){this.obj=C;this.props=A;if(z){this.millisec=z}this.onend=B;if(y){this.easingFunc=y}}h.prototype=new v();h.prototype.doStep=function(){var D=this.easingFunc.inout||this.easingFunc;var F=D(this.pos);for(var z=this.props,C=z.length-1;C>=0;--C){for(var B=0,H=[],G=z[C].vals,A=G.length;B<A;++B){var E=G[B];H.push(E.prefix+E.to(F*E.delta+E.start)+E.postfix)}this.obj.style[z[C].prop]=H.join("")}};function f(N,B,F,K,C,y){var Q=s(B),A=s(F),L=[];for(var M in Q){var z=A[M];if(!z){continue}var O=Q[M].split(/\s+/g),P=O.length,G=z.split(/\s+/g);if(G.length!=P){continue}for(var R=0,U=0,S=[];R<P;++R){var I=O[R],E=G[R];if(I==E){continue}if(/^#/.test(I)){I=I.toLowerCase().replace(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/,"#$1$1$2$2$3$3");E=E.toLowerCase().replace(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/,"#$1$1$2$2$3$3");if(I==E){continue}}var T={prefix:O.slice(U,R-1).join(" "),postfix:""};U=R+1;if(/^#/.test(I)){T.prefix+="#";function J(V){var X=I.substr(V,2),W=E.substr(V,2);if(X!=W){T.start=parseInt(X,16);T.delta=parseInt(W,16)-T.start;T.to=m;S.push(T);T={prefix:"",postfix:""}}else{T.prefix+=X}}J(1);J(3);J(5);if(T.prefix){S[S.length-1].postfix=T.prefix}}else{var H=parseFloat(I),D=parseFloat(E);if(H==D){continue}T.start=H;T.delta=D-H;T.to=r;T.postfix=I.replace(/^-?(?:\d+(?:\.\d*)?|\.\d+)/,"");S.push(T)}}S[S.length-1].postfix+=O.slice(U).join(" ");L.push({prop:M,vals:S})}return new h(N,L,K,C,y)}function r(y){return""+y}function m(y){var z="0"+Math.round(y).toString(16);return z.substr(z.length-2)}function s(A){for(var B={},y=(A||"").replace(/^\s+|\s*;\s*$/g,"").split(/\s*;\s*/g),z=y.length-1;z>=0;--z){var C=y[z].split(/\s*:\s*/,2);if(C.length==2&&C[1]){B[C[0]]=C[1]}}return B}g("create",f)})();